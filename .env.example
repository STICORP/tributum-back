# ==========================================
# Tributum Backend Environment Configuration
# ==========================================
# Copy this file to .env and update with your values

# Application Settings
# --------------------
APP_NAME=Tributum
APP_VERSION=0.3.0
ENVIRONMENT=development  # Options: development, staging, production
DEBUG=true              # Set to false in production

# API Settings
# ------------
API_HOST=127.0.0.1      # Use 0.0.0.0 for Docker/external access
API_PORT=8000           # Default FastAPI port

# For Docker/Cloud Run deployments:
# API_HOST=0.0.0.0
# API_PORT=${PORT:-8080}  # Cloud Run sets PORT env var

# API Documentation (set to empty string to disable in production)
DOCS_URL=/docs          # Swagger UI endpoint
REDOC_URL=/redoc        # ReDoc endpoint
OPENAPI_URL=/openapi.json  # OpenAPI schema endpoint

# To disable docs in production:
# DOCS_URL=
# REDOC_URL=
# OPENAPI_URL=

# Logging Configuration
# --------------------
LOG_CONFIG__LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_CONFIG__LOG_FORMAT=console  # Options: json, console

# Advanced Logging Options (optional)
# LOG_CONFIG__RENDER_JSON_LOGS=false  # Force JSON rendering
# LOG_CONFIG__ADD_TIMESTAMP=true      # Add timestamps to logs
# LOG_CONFIG__TIMESTAMPER_FORMAT=iso  # Options: iso, unix
# LOG_CONFIG__SAMPLING_RATE=1.0       # Log sampling (0.0-1.0)
# LOG_CONFIG__ENABLE_ASYNC_LOGGING=false  # Enable async logging (auto-enabled in production)
# LOG_CONFIG__ASYNC_QUEUE_SIZE=10000  # Async queue size

# Request/Response Logging (optional)
# LOG_CONFIG__LOG_REQUEST_BODY=false   # Log request bodies
# LOG_CONFIG__LOG_RESPONSE_BODY=false  # Log response bodies
# LOG_CONFIG__MAX_BODY_LOG_SIZE=10240  # Max body size to log (bytes)

# Performance Monitoring (optional)
# LOG_CONFIG__ENABLE_PERFORMANCE_METRICS=true      # Enable all performance metrics collection
# LOG_CONFIG__TRACK_REQUEST_DURATION=true          # Track request duration in milliseconds
# LOG_CONFIG__TRACK_ACTIVE_TASKS=true              # Track active asyncio tasks count
# LOG_CONFIG__TRACK_REQUEST_SIZES=true             # Track request/response sizes when body logging enabled
# LOG_CONFIG__ENABLE_MEMORY_TRACKING=false         # Enable memory tracking (has overhead)
# LOG_CONFIG__SLOW_REQUEST_THRESHOLD_MS=1000       # Log warning if request slower than this (ms)
# LOG_CONFIG__CRITICAL_REQUEST_THRESHOLD_MS=5000   # Log error if request slower than this (ms)

# SQL Logging (optional)
# LOG_CONFIG__ENABLE_SQL_LOGGING=false  # Enable SQL query logging
# LOG_CONFIG__SLOW_QUERY_THRESHOLD_MS=100  # Slow query threshold (ms)

# Log Processors (optional)
# LOG_CONFIG__ENABLE_PERFORMANCE_PROCESSOR=false  # Add performance metrics
# LOG_CONFIG__ENABLE_ENVIRONMENT_PROCESSOR=true   # Add environment info
# LOG_CONFIG__ENABLE_ERROR_CONTEXT_PROCESSOR=true # Add error context

# Path Exclusion (optional) - JSON array format
# LOG_CONFIG__EXCLUDED_PATHS=["/health", "/metrics"]

# Sensitive Field Redaction (optional) - JSON array format
# LOG_CONFIG__SENSITIVE_FIELDS=["password", "token", "secret", "api_key", "authorization"]

# Enhanced Sensitive Data Detection (optional)
# LOG_CONFIG__SENSITIVE_VALUE_DETECTION=true  # Enable detection of sensitive values in data
# LOG_CONFIG__ADDITIONAL_SENSITIVE_PATTERNS=[]  # Additional regex patterns for sensitive detection
# LOG_CONFIG__EXCLUDED_FIELDS_FROM_SANITIZATION=[]  # Field names to exclude from sanitization

# Database Configuration
# ---------------------
# IMPORTANT: Replace these placeholder values with your actual database credentials
DATABASE_CONFIG__DATABASE_URL=postgresql+asyncpg://YOUR_DB_USER:YOUR_DB_PASSWORD@localhost:5432/YOUR_DB_NAME
DATABASE_CONFIG__POOL_SIZE=10        # Connection pool size
DATABASE_CONFIG__MAX_OVERFLOW=5      # Max overflow connections
DATABASE_CONFIG__POOL_TIMEOUT=30.0   # Connection timeout (seconds)
DATABASE_CONFIG__POOL_PRE_PING=true  # Test connections before use
DATABASE_CONFIG__ECHO=false          # Log SQL statements (debug only)

# Example for local development:
# DATABASE_CONFIG__DATABASE_URL=postgresql+asyncpg://tributum:tributum_pass@localhost:5432/tributum_db

# Observability Configuration (optional)
# -------------------------------------
# OBSERVABILITY_CONFIG__ENABLE_TRACING=false     # Enable OpenTelemetry tracing
# OBSERVABILITY_CONFIG__SERVICE_NAME=tributum    # Service name for traces
# OBSERVABILITY_CONFIG__GCP_PROJECT_ID=your-gcp-project-id  # GCP project for Cloud Trace
# OBSERVABILITY_CONFIG__TRACE_SAMPLE_RATE=0.1    # Trace sampling rate (0.0-1.0)
# OBSERVABILITY_CONFIG__ENABLE_METRICS=false     # Enable OpenTelemetry metrics
# OBSERVABILITY_CONFIG__METRICS_EXPORT_INTERVAL_MS=60000  # Metrics export interval (ms)
# OBSERVABILITY_CONFIG__ENABLE_SYSTEM_METRICS=true  # Enable system metrics collection
# OBSERVABILITY_CONFIG__SYSTEM_METRICS_INTERVAL_S=60  # System metrics collection interval (s)

# ==========================================
# Environment-Specific Configuration Examples
# ==========================================

# Development Configuration
# ------------------------
# ENVIRONMENT=development
# DEBUG=true
# LOG_CONFIG__LOG_LEVEL=DEBUG
# LOG_CONFIG__LOG_FORMAT=console

# Staging Configuration
# --------------------
# ENVIRONMENT=staging
# DEBUG=false
# LOG_CONFIG__LOG_LEVEL=INFO
# LOG_CONFIG__LOG_FORMAT=json
# LOG_CONFIG__ENABLE_ASYNC_LOGGING=true
# OBSERVABILITY_CONFIG__ENABLE_TRACING=true
# OBSERVABILITY_CONFIG__TRACE_SAMPLE_RATE=0.1

# Production Configuration
# -----------------------
# ENVIRONMENT=production
# DEBUG=false
# API_HOST=0.0.0.0
# DOCS_URL=
# REDOC_URL=
# OPENAPI_URL=
# LOG_CONFIG__LOG_LEVEL=WARNING
# LOG_CONFIG__LOG_FORMAT=json
# LOG_CONFIG__ENABLE_ASYNC_LOGGING=true
# LOG_CONFIG__SAMPLING_RATE=0.5
# OBSERVABILITY_CONFIG__ENABLE_TRACING=true
# OBSERVABILITY_CONFIG__TRACE_SAMPLE_RATE=0.01
